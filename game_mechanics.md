# Game Mechanics & Logic

## 1. ボールの挙動
- **速度:** ゲーム開始時は一定速度。レベルが上がるごとに $v$ を増加させる。
- **移動ベクトル:** ボールの位置 $(x, y)$ は毎フレーム更新される。
  $$x_{new} = x_{old} + v_x$$
  $$y_{new} = y_{old} + v_y$$

## 2. 衝突判定 (Collision Detection)
- **壁との衝突:** - 左右の壁に当たった場合、$v_x = -v_x$。
    - 天井に当たった場合、$v_y = -v_y$。
- **パドルとの衝突:** - パドルの中心からどの程度離れた位置に当たったかで反射角を変化させる。
    - 反射後の $v_x$ は、衝突位置に基づいて計算： $v_x = (\text{HitPositionRatio}) \times v_{max}$
- **ブロックとの衝突:** - AABB（Axis-Aligned Bounding Box）判定を使用。
    - 衝突した面（上下か左右か）に応じて、適切なベクトルの反転を行う。



## 3. スコアリング
- 通常ブロック: 100 pts
- 強化ブロック（2回叩く必要あり）: 250 pts
- コンボボーナス: ボールがパドルに触れずに連続でブロックを壊すと倍率アップ。
